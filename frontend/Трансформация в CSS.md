# Трансформация в CSS

[Главная](https://webref.ru/) / [Учебные курсы](https://webref.ru/course) / [Продвинутый CSS](https://webref.ru/course/css-advanced) / Трансформация в CSS /

[Комментариев: 13](https://webref.ru/course/css-advanced/transform#disqus_thread)

- [Описание](https://webref.ru/course/css-advanced/transform#content)
- [Задания](https://webref.ru/course/css-advanced/transform#task)

Ранее мы видели, что CSS позволяет нам применять цвета, устанавливать шрифты, изменять настройки текста, позиционировать элементы, задавать для них пространство, украшать их и перемещать.

**Преобразования** в CSS представляют собой набор *функций*, которые позволяют определённым образом придавать **элементу форму**:

- translate: перемещает элемент вдоль трёх осей (х, у и z);
- rotate: вращает элемент вокруг центральной точки;
- scale: изменяет размер элемента;
- skew: искажает элемент.

## Свойства трансформации

Есть три доступных свойства для трансформации:

- transform определяет, какая *функция* будет применяться (translate, rotate, scale и др.);
- transform-origin позволяет изменять точку начала преобразования (работает как background-position);
- transform-style для настройки 3D.

Обратите внимание, что в отличие от background и border, свойство transform **не является сокращённым**.

Здесь мы будем использовать только transform.

### Не прерывает поток

Чтобы предотвратить неожиданное поведение, трансформируемые элементы **не влияют на поток**. Независимо от вращения, масштабирования или перемещения, они не будут влиять на другие элементы.

## translate

Функция translate() позволяет перемещать элемент в плоскости (по осям х и у). Она принимает либо:

- **один** параметр: перемещает элемент вдоль оси х;
- **два** параметра: первое значение для оси х, второе для оси у.

Это похоже на использование [относительного позиционирования](https://webref.ru/course/positioning/position) с помощью значений left и top.

Давайте переделаем нашу замкнутую [анимацию](https://webref.ru/course/css-advanced/animation) с помощью translate, вместо позиционирования left/top:

```
@keyframes translating {
  0%   { transform: translate(0, 0); }
  25%  { transform: translate(240px, 0); }
  50%  { transform: translate(240px, 140px); }
  75%  { transform: translate(0, 140px); }
  100% { transform: translate(0, 0); }
}
p { animation: translating 4s linear infinite; }
```

Помните: transform — это стилевое **свойство**, translate() — это **значение** (и одновременно функция), *применяемое* к этому свойству.

Вы можете использовать translateX() и translateY(), чтобы переместить элемент вдоль только оси х и у, соответственно.

## rotate

Функция rotate() позволяет **вращать элемент вокруг неподвижной точки**. По умолчанию, вращение происходит вокруг центра элемента. Думайте об этом как о грампластинке, которая играет на проигрывателе.

rotate() принимает только **один** параметр, который является значением **угла** и определяется в градусах (deg), градах (grad), радианах (rad) или в оборотах (turn) (один оборот эквивалентен полному кругу).

```
@keyframes rotating {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
p { animation: rotating 4s linear infinite; }
```

## scale

Функция scale() позволяет изменять размер элемента. Она может увеличить или уменьшить элемент. Функция принимает либо:

- **один** параметр: изменение размеров элемента одинаково по высоте и ширине;
- **два** параметра: первое значение изменяет размер элемента по горизонтали, второе по вертикали.

Диапазон возможных значений:

- 1: элемент сохраняет свой первоначальный размер;
- 2: элемент удваивается в размере;
- 0.5: элемент уменьшается наполовину;
- 0: элемент в основном исчезает (так как его высота и ширина равны нулю);
- -1: элемент отражается.

```
@keyframes scaling {
  0%   { transform: scale(1); }
  20%  { transform: scale(2); }
  40%  { transform: scale(0.5); }
  60%  { transform: scale(0); }
  80%  { transform: scale(-1); }
  100% { transform: scale(1); }
}
p { animation: scaling 10s steps(1) 0s infinite; }
```

Как и для translate(), у функция scale() есть версии для х и у: scaleX() и scaleY(), для изменения размера по горизонтали и вертикали, соответственно.

## skew

Функция skew() позволяет **искажать элемент**, сдвигая его стороны вдоль линий.

Эта функция преобразования используется редко, поскольку её последствия весьма непредсказуемы, а результат не обязательно привлекателен. Тем не менее, давайте посмотрим, как это работает.

Как и scale(), функция skew() принимает либо:

- **один** параметр: элемент искажается по горизонтали;
- **два** параметра: первое значение искажает элемент по горизонтали, второе по вертикали.

Как и rotate(), функция skew() принимает только значения угла, такого как градусы (deg).

```
@keyframes skewing {
  0%   { transform: skew(0deg); }
  20%  { transform: skew(10deg); }
  40%  { transform: skew(45deg); }
  60%  { transform: skew(90deg); }
  80%  { transform: skew(120deg); }
  100% { transform: skew(0deg); }
}
p { animation: skewing 10s steps(1) 0s infinite; }
```

## 3D-функции

Мы видели, как функции трансформации работают на **плоскости**, вдоль осей х и у.

Например:

- У

   

  translate()

   

  до двух параметров:

  - translate(x)
  - translate(x, y)

- translateX() только для оси х

- translateY() только для оси у

Но для всех этих функций также есть **3D-версии**.

Например, для translate() есть версия translate3d(), которая выполняет преобразование в **трёх измерениях**, а это значит, что она также включает в себя **ось z** (кроме того существует отдельная функция translateZ).

Параметр z в основном заставляет элемент двигаться ближе и дальше, в зависимости от уменьшения или увеличения значения. Это как увеличение и уменьшение масштаба.

```
@keyframes zooming {
  0%   { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(0, 0, 200px); }
}
p { animation: zooming 5s alternate; }
```

Зелёный блок поднимается на 200px «*вверх*» по оси z, как будто становясь ближе к нам.

К родительскому элементу требуется применить perspective: 500px, чтобы трёхмерное пространство стало заметным. В качестве альтернативы также может быть использовано transform: perspective(500px).

[Перейти к заданиям](https://webref.ru/course/css-advanced/transform#lesson-tabs)









# Трансформация

[Главная](https://webref.ru/) / [Вёрстка](https://webref.ru/layout) / [HTML5 и CSS3 на примерах](https://webref.ru/layout/html5-css3) / Трансформация /

[Комментариев: 2](https://webref.ru/layout/html5-css3/transform#disqus_thread)

Трансформация — это изменение вида элемента, к которым относятся следующие визуальные модификации: поворот, масштабирование, наклон и сдвиг. Чтобы сделать трансформацию, к селектору добавляется свойство transform, а в качестве значения пишется функция трансформации и её параметры. В общем виде это записывается так:

```
transform: функция(параметры);
```

В примере 1 показано изменение масштаба фотографий при наведении на них курсора мыши.

Пример 1. Использование transform

```
<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>Трансформация</title>
  <style>
   .thumbs:hover .thumb {
    transform: scale(0.9); /* Уменьшаем все фотографии */
   }
   .thumb {
    background: #297770; /* Цвет рамки */
    padding: 10px; /* Толщина рамки вокруг картинки */
    transition: 1s; /* Время перехода */
   }
   .thumb:hover {
    transform: scale(1.1) !important; /* Увеличиваем фотографию */
   }
  </style>
 </head>
 <body>
  <div class="thumbs">
   <img src="images/thumb1.jpg" alt="" class="thumb">
   <img src="images/thumb2.jpg" alt="" class="thumb">
   <img src="images/thumb3.jpg" alt="" class="thumb">
  </div>
 </body>
</html>
```

[Живой пример](http://jsfiddle.net/webref/6d0ctdfx/)

Результат данного примера показан на рис. 1. При наведении курсора мыши на любую фотографию она немного увеличивается в размерах, а остальные фотографии, наоборот, уменьшаются.

![Изменение масштаба фотографий](https://webref.ru/assets/images/html5-css3/transform-01.png)

Рис. 1. Изменение масштаба фотографий

Для получения такого эффекта мы используем псевдокласс :hover для класса thumbs, и уменьшаем все изображения на 10% через функцию scale(). Выбранную фотографию теперь надо увеличить, поэтому опять задействуем :hover, но уже только для неё. Правило !important применяется для повышения важности стилевого правила, поскольку уменьшение имеет более высокий приоритет.

[трансформация](https://webref.ru/metki/transformaciya)





# Функции трансформации

[Главная](https://webref.ru/) / [Вёрстка](https://webref.ru/layout) / [HTML5 и CSS3 на примерах](https://webref.ru/layout/html5-css3) / [Трансформация](https://webref.ru/layout/html5-css3/transform) / Функции трансформации /

[Комментариев: 3](https://webref.ru/layout/html5-css3/transform/function#disqus_thread)

Функций трансформаций довольно много и они делятся по следующим группам: поворот, масштабирование, наклон и сдвиг, а также на двумерные и трёхмерные трансформации. Последние обозначаются добавлением 3d к имени функции. Кроме того, с помощью этих трансформаций можно делать отражение элемента, задавая отрицательные значения параметров у некоторых функций. Все функции комбинируются между собой, позволяя тем самым получить множество новых фигур.

Любая трансформация происходит относительно центральной точки элемента, её положение можно задать с помощью свойства transform-origin. Координатные оси показаны на рис. 1; оси X и Y находятся в плоскости экрана, а ось Z ему перпендикулярна.

![Координатные оси](https://webref.ru/assets/images/html5-css3/transform-04.png)

Рис. 1. Координатные оси

### translate()

Сдвигает элемент на заданное значение по горизонтали и вертикали в плоскости экрана.

```
transform: translate(tx[, ty])
```

Здесь: tx — значение смещения по оси X в пикселях, процентах или других единицах CSS; ty — смещение по оси Y. Если значение ty не указано, то оно считается равным tx: translate(2) соответствует translate(2, 2).

### translate3d()

Сдвигает элемент на заданное значение в трёхмерном пространстве.

```
transform: translate3d(tx, ty, tz)
```

Здесь: tx — смещение по оси X; ty — смещение по оси Y; tz — смещение по оси Z. tz не может указываться в процентах, в этом случае функция игнорируется.

### translateX()

Сдвигает элемент по горизонтали на указанное значение. Положительное значение сдвигает вправо, отрицательное влево.

![translateX()](https://webref.ru/assets/images/html5-css3/transform-fun-01.png)

```
transform: translateX(tx)
```

### translateY()

Сдвигает элемент по вертикали на указанное значение. Положительное значение сдвигает вниз, отрицательное вверх.

![translateY()](https://webref.ru/assets/images/html5-css3/transform-fun-02.png)

```
transform: translateY(ty)
```

translateY(ty) является синонимом translate(0, ty).

### translateZ()

Сдвигает элемент по оси Z в трёхмерном пространстве. Положительное значение сдвигает вперёд, отрицательное назад.

```
transform: translateZ(tz)
```

translateZ(tz) является синонимом translate3d(0, 0, tz).

### scale()

Задаёт масштаб элемента по горизонтали и вертикали.

```
transform: scale(sx[, sy]);
```

Здесь: sx — изменение масштаба по оси X; sy — изменение масштаба по оси Y. Значение больше 1 увеличивает масштаб элемента, меньше 1, наоборот, его уменьшает. Если задано только одно значение, то масштабирование будет происходить пропорционально в обе стороны.

### scale3d()

Масштабирует элемент в трёхмерном пространстве.

```
transform: scale3d(sx, sy, sz)
```

### scaleX()

Масштабирует элемент по горизонтали.

```
transform: scaleX(sx);
```

Значение -1 отражает элемент по горизонтали (пример 1).

Пример 1. Отражение по горизонтали

```
<!DOCTYPE html>
<html>
 <head> 
  <meta charset="utf-8">
  <title>Отражение</title>
  <style>
   .mirrorX {
    transform: scaleX(-1) translateX(-20px);
   }
  </style>
 </head>
 <body>
  <img src="images/igels.png" alt="">
  <img src="images/igels.png" alt="" class="mirrorX">
 </body>
</html>
```

scaleX() не только отражает изображение, но и меняет направление координат. Поэтому для сдвига картинки вправо применяется отрицательное значение в функции translateX() (рис. 1).

![Отражение картинки по горизонтали](https://webref.ru/assets/images/html5-css3/transform-05.png)

Рис. 1. Отражение картинки по горизонтали

### scaleY()

Масштабирует элемент по вертикали.

```
transform: scaleY(sy);
```

Значение -1 отражает элемент по вертикали (пример 2).

Пример 2. Отражение по вертикали

```
<!DOCTYPE html>
<html>
 <head> 
  <meta charset="utf-8">
  <title>Отражение</title>
  <style>
   .mirrorY {
    transform: scaleY(-1); /* Отражаем по вертикали */
    opacity: 0.2; /* Полупрозрачность */
   }
  </style>
 </head>
 <body>
  <img src="images/igels.png" alt="">
  <img src="images/igels.png" alt="" class="mirrorY">
 </body>
</html>
```

Результат данного примера показан на рис. 2.

![Отражение картинки по вертикали](https://webref.ru/assets/images/html5-css3/transform-06.png)

Рис. 2. Отражение картинки по вертикали

### scaleZ()

Масштабирует элемент по оси Z.

```
transform: scaleZ(sz);
```

scaleZ(sz) является синонимом scale3d(1, 1, sz).

### rotate()

Поворачивает элемент на заданный угол относительно точки трансформации, задаваемой свойством transform-origin.

```
transform: rotate(α)
```

Здесь: α — угол поворота. Положительное значение поворачивает элемент по часовой стрелке, отрицательное против.

### rotate3d()

Поворачивает элемент в трёхмерном пространстве без искажений. Вращающийся элемент имеет три степени свободы — оси X, Y и Z, относительно которых происходит поворот. Они задаются с помощью вектора [x, y, z] с учётом точки вращения.

```
transform: rotate3d(x, y, z, α)
```

Здесь: x — целое число описывающее координату X вектора оси вращения; y — целое число описывающее Y-координату вектора оси вращения; z — целое число описывающее координату Z вектора оси вращения; α — угол поворота. Положительное значение угла поворачивает элемент по часовой стрелке, отрицательное против.

### rotateX()

Поворачивает элемент вокруг оси X на заданный угол α.

```
transform: rotateX(α)
```

rotateX(α) является синонимом rotate3D(1, 0, 0, α).

### rotateY()

Поворачивает элемент вокруг оси Y на заданный угол α.

```
transform: rotateY(α)
```

rotateY(α) является синонимом rotate3D(0, 1, 0, α).

### rotateZ()

Поворачивает элемент вокруг оси Z на заданный угол α.

```
transform: rotateZ(α)
```

rotateZ(α) является синонимом rotate3D(0, 0, 1, α).

### skew()

Наклоняет элемент на заданное значение по горизонтали и вертикали в плоскости экрана.

```
transform: skew(ax[, ay])
```

Здесь: ax — угол наклона по оси X; ay — угол наклона по оси Y. Если значение ay не указано, то оно считается равным ax: skew(30deg) соответствует skew(30deg, 30deg).

### skewX()

Наклоняет элемент на заданный угол по горизонтали. Положительное значение наклоняет влево, отрицательное вправо.

![skewX()](https://webref.ru/assets/images/html5-css3/transform-fun-03.png)

```
transform: skewX(α)
```

Здесь: α — угол наклона по оси X. В примере 3 показано создание наклонного меню с помощью функции skewX().

Пример 3. Использование skewX()

```
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Трансформация</title>
  <style>
   li {
    background: #a9c358; /* Цвет фона */
    list-style: none; /* Убираем маркеры */
    width: 300px; /* Ширина списка */
    margin-bottom: 10px; /* Отступ снизу */
    transform: skewX(-30deg); /* Наклоняем вправо */
   }
   li a {
    color: #2c285d; /* Цвет ссылок */
    text-decoration: none; /* Убираем подчёркивание */
    display: block; /* Блочные ссылки */
    padding: 5px 20px; /* Поля */
    transform: skewX(30deg); /* Наклоняем ссылки обратно */
   }
  </style>
 </head>
 <body>
  <ul>
   <li><a href="#">Пирамида Хеопса</a></li>
   <li><a href="#">Висячие сады Семирамиды</a></li>
   <li><a href="#">Статуя Зевса в Олимпии</a></li>
   <li><a href="#">Храм Артемиды в Эфесе</a></li>
   <li><a href="#">Мавзолей в Галикарнасе</a></li>
   <li><a href="#">Колосс Родосский</a></li>
   <li><a href="#">Александрийский маяк</a></li>
  </ul>
 </body>
</html>
```

Результат данного примера показан на рис. 3. Поскольку трансформация действует на содержимое всего элемента, то ссылки внутри <li> тоже окажутся под наклоном. Нам это не требуется, поэтому ещё раз применяем функцию skewX() для <a>, но уже с противоположным знаком.

![Наклон пунктов меню](https://webref.ru/assets/images/html5-css3/transform-07.png)

Рис. 3. Наклон пунктов меню

### skewY()

Наклоняет элемент на заданный угол по вертикали.

![skewY()](https://webref.ru/assets/images/html5-css3/transform-fun-04.png)

```
transform: skewY(α)
```

Здесь: α — угол наклона по оси Y. Положительное значение наклоняет вниз, отрицательное вверх.

### perspective()

Функция задаёт степень перспективы элемента в трёхмерном пространстве. Выражается расстоянием по оси Z от плоскости экрана до точки схода на линии горизонта. Чем меньше расстояние в пикселях, тем сильнее выражены искажения и наоборот.

```
transform: perspective(l)
```

Здесь: l — размер в пикселях или других единицах CSS. Процентная запись неприменима. Если значение равно 0 или отрицательное, то функция не работает.

[трансформация](https://webref.ru/metki/transformaciya)





# Матрица преобразований

[Главная](https://webref.ru/) / [Вёрстка](https://webref.ru/layout) / [HTML5 и CSS3 на примерах](https://webref.ru/layout/html5-css3) / [Трансформация](https://webref.ru/layout/html5-css3/transform) / Матрица преобразований /

[0 комментариев](https://webref.ru/layout/html5-css3/transform/matrix#disqus_thread)

Матрица преобразований предназначена для вычисления новых координат элемента с целью его трансформации и позволяет установить множество преобразований одновременно. Различают двумерную и трёхмерную матрицу, они отличаются друг от друга размером и пространством, на которое ориентированы. Поскольку двумерная матрица по размеру меньше и поэтому проще, на её примере рассмотрим общий принцип работы матриц.

## Двумерная матрица

Преобразование с помощью двумерной матрицы происходит в плоскости экрана, при этом соблюдается условие, что линии всегда остаются параллельными, поэтому в качестве трансформации допустимы поворот, масштабирование, наклон и изменение положения, но никак не перспектива или нечто подобное. Это уже область работы трёхмерной матрицы. На рис. 1 показаны допустимые и невозможные преобразования, выполненные с помощью двумерных матриц.

| ![Исходный элемент](https://webref.ru/assets/images/html5-css3/matrix-01a.png) | ![Поворот](https://webref.ru/assets/images/html5-css3/matrix-01b.png) | ![Наклон](https://webref.ru/assets/images/html5-css3/matrix-01c.png) | ![А вот так сделать нельзя](https://webref.ru/assets/images/html5-css3/matrix-01d.png) |
| ---------------------------------------- | ---------------------------------------- | ---------------------------------------- | ---------------------------------------- |
| Исходный элемент                         | Поворот                                  | Наклон                                   | А вот так сделать нельзя                 |

Рис. 1. Трансформация элемента

Сама матрица имеет размер 3х3 и в общем виде записывается так:

![Матрица преобразований](https://webref.ru/assets/images/html5-css3/matrix-f1.png)

Иногда для простоты третью строку опускают, поскольку она не оказывает влияния на конечный результат. Новые координаты каждой точки элемента получаются путём умножения матрицы преобразований на матрицу координат.

![Умножение матриц](https://webref.ru/assets/images/html5-css3/matrix-f12.png)

И вычисляются по следующей формуле:

![Формула преобразования](https://webref.ru/assets/images/html5-css3/matrix-f2.png)

Роль каждого коэффициента матрицы представлена в табл. 1.

| Коэффициент | Преобразование                           | Описание                                 |
| ----------- | ---------------------------------------- | ---------------------------------------- |
| a           | ![Изменение размера по горизонтали](https://webref.ru/assets/images/html5-css3/matrix-a.png) | Изменение масштаба по горизонтали. Значение больше 1 расширяет элемент, меньше 1, наоборот, сжимает. |
| b           | ![Наклон по горизонтали](https://webref.ru/assets/images/html5-css3/matrix-c.png) | Наклон по вертикали. Положительное значение наклоняет вверх, отрицательное вниз. |
| c           | ![Наклон по вертикали](https://webref.ru/assets/images/html5-css3/matrix-b.png) | Наклон по горизонтали. Положительное значение наклоняет влево, отрицательное вправо. |
| d           | ![Изменение размера по вертикали](https://webref.ru/assets/images/html5-css3/matrix-d.png) | Изменение масштаба по вертикали. Значение больше 1 расширяет элемент, меньше 1 — сжимает. |
| tx          | ![Смещение по горизонтали в пикселях](https://webref.ru/assets/images/html5-css3/matrix-tx.png) | Смещение по горизонтали в пикселях. Положительное значение сдвигает элемент вправо на заданное число пикселей, отрицательное значение сдвигает влево. |
| ty          | ![Смещение по вертикали в пикселях](https://webref.ru/assets/images/html5-css3/matrix-ty.png) | Смещение по вертикали в пикселях. При положительном значении элемент опускается на заданное число пикселей вниз или вверх при отрицательном значении. |

Для матрицы преобразований применяется функция matrix(), внутри скобок перечисляются коэффициенты.

```
transform: matrix(a, b, c, d, tx, ty)
```

## Единичная матрица

Если в матрице коэффициенты *a* и *d* равны 1, а остальные элементы матрицы нулевые, то такая матрица называется единичной. Эта матрица применяется по умолчанию, поскольку не приводит к какой-либо трансформации элемента. Так что если необходимо произвести только один вид преобразований, единичную матрицу надо брать в качестве основы.

![Единичная матрица](https://webref.ru/assets/images/html5-css3/matrix-f3.png)

## Масштаб по горизонтали

Чтобы увеличить размер элемента, допустим, в два раза по горизонтали, коэффициент *a* следует установить равным 2, а остальные коэффициенты оставить как в единичной матрице.

![Масштабирование](https://webref.ru/assets/images/html5-css3/matrix-f4.png)

Считаем новые координаты:

x' = 2*x + 0*y + 0 
y' = 0*x + 1*y + 0

И окончательно:

x' = 2x 
y' = y

Код для масштабирования показан в примере 1.

Пример 1. Масштабирование

```
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Трансформация</title>
  <style>
   .t {
    background: #e7685d; /* Цвет фона */
	color: #fff; /* Цвет текста */
    padding: 10px; /* Поля */
    width: 300px; /* Ширина */
	transform-origin: 0 0; /* Точка трансформации */
    transform: matrix(1.2, 0, 0, 1, 0, 0); /* Трансформация */
   }
  </style>
 </head>
 <body>
  <div class="t">
   <p>То, что делает армию при встрече с противником непобедимой, 
      это правильный бой и маневр.</p>
   <p>Сунь-Цзы. Искусство войны. Пер. Н. Конрад.</p>
  </div>
 </body>
</html>
```

Результат данного примера показан на рис. 2. Блок с текстом растягивается на 20% по горизонтали.

![Изменение масштаба текста](https://webref.ru/assets/images/html5-css3/matrix-02.png)

Рис. 2. Изменение масштаба текста

## Отражение

Для отражение элемента по горизонтали следует установить *a=-1*, по вертикали *d=-1* или оба значения одновременно для отражения одним разом по горизонтали и вертикали.

![Отражение](https://webref.ru/assets/images/html5-css3/matrix-f5.png)

В примере 2 показано отражение текста по вертикали.

Пример 2. Отражение

```
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Трансформация</title>
  <style>
   .t {
    transform: matrix(1, 0, 0, -1, 0, 0);
   }
  </style>
 </head>
 <body>
  <p class="t">Через миг Алиса прошла сквозь зеркало 
   и легко спрыгнула в Зазеркалье.</p>
 </body>
</html>
```

Результат данного примера показан на рис. 3.

![Отражение текста по вертикали](https://webref.ru/assets/images/html5-css3/matrix-03.png)

Рис. 3. Отражение текста по вертикали

## Наклон

За наклон отвечают коэффициенты *b* и *c*, которые и влияют на вид элемента. Давайте установим *c=1* и посмотрим, какие преобразования получатся.

![Наклон](https://webref.ru/assets/images/html5-css3/matrix-f6.png)

x' = 1*x + 1*y + 0 
y' = 0*x + 1*y + 0

x' = x + y 
y' = y

Таким образом, меняется только координата *x*, которая увеличивается на значение *y*, что и приводит к наклону элемента. В примере 3 используется отрицательное значение коэффициента *c* для наклона вправо.

Пример 3. Наклон

```
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Трансформация</title>
  <style>
   .t {
    background: #e7685d; /* Цвет фона */
	color: #fff; /* Цвет текста */
    padding: 10px; /* Поля */
    width: 300px; /* Ширина */
	transform-origin: 0 100%; /* Точка трансформации */
    transform: matrix(1, 0, -0.5, 1, 0, 0); /* Трансформация */
   }
  </style>
 </head>
 <body>
  <div class="t">
   <p>То, что делает армию при встрече с противником непобедимой, 
   это правильный бой и маневр.</p>
   <p>Сунь-Цзы. Искусство войны. Пер. Н. Конрад.</p>
  </div>
 </body>
</html>
```

Результат данного примера показан на рис. 4.

![Наклон блока](https://webref.ru/assets/images/html5-css3/matrix-04.png)

Рис. 4. Наклон блока

## Поворот

Поворот является комбинацией масштабирования и наклона, но чтобы сохранить исходные пропорции элемента преобразования должны подчиняться строгим вычислениям с использование синусов и косинусов.

![Поворот](https://webref.ru/assets/images/html5-css3/matrix-f7.png)

Сам поворот происходит по часовой стрелке, α задаёт угол поворота в градусах.

## Перемещение

За сдвиг элемента по горизонтали отвечает коэффициент *tx*, а по вертикали *ty*. Значением выступает число пикселей.

## Трёхмерная матрица

Трёхмерная матрица имеет размер 4х4 и применяется для преобразования координат элемента в трёхмерном пространстве.	В общем виде она выглядит так:

![Трёхмерная матрица](https://webref.ru/assets/images/html5-css3/matrix-f8.png)

Название «трёхмерная» лишь отражает тот факт, что матрица предназначена для работы в 3d-пространстве. Двумерная матрица является её частным случаем и для размера 4х4 имеет следующий вид:

![img](https://webref.ru/assets/images/html5-css3/matrix-f9.png)

В чистом виде эта матрица применяется редко из-за своей сложности и наличия удобных функций для трансформации в пространстве. Если вам интересна тригонометрия и формулы преобразований одних координат в другие, то почитайте этот материал.

[https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function)

[трансформация](https://webref.ru/metki/transformaciya)





# Точка трансформации

[Главная](https://webref.ru/) / [Вёрстка](https://webref.ru/layout) / [HTML5 и CSS3 на примерах](https://webref.ru/layout/html5-css3) / [Трансформация](https://webref.ru/layout/html5-css3/transform) / Точка трансформации /

[Комментариев: 2](https://webref.ru/layout/html5-css3/transform/origin#disqus_thread)

Любая трансформация происходит относительно определённой точки, что особенно заметно при вращениях элемента. Исходно точка трансформации находится в центре элемента, что вполне логично, потому что это подходит для большинства случаев. Но иногда возникает необходимость изменить положение точки. Например, у фигурки человека руки должны вращаться относительно плечевого сустава, в противном случае они «оторвутся». Или дверь должна открываться на петлях, которые располагаются на её торце.

Сама точка трансформации указывается с помощью свойства transfom-origin, а в качестве значения пишется две или три координаты по осям X, Y, Z. Если координат две, то это оси X и Y. Обычно используется процентная запись, но также могут применяться ключевые слова и пиксели. Для оси Z проценты и ключевые слова неприменимы. На рис. 1 показаны точки и указывающие их ключевые слова.

![Точки трансформации](https://webref.ru/assets/images/html5-css3/transform-03.png)

Рис. 1. Точки трансформации

Соответствие между процентной записью и ключевыми словами приведено ниже.

- 0, 0 = left top — левый верхний угол;
- 50% 0 = center top — верхняя точка по центру;
- 100% 0 = right top — правый верхний угол;
- 0, 50% = left, center — центральная точка по левому краю;
- 50% 50% = center center — по центру элемента, это значение по умолчанию;
- 100% 50% = right center — центральная точка по правому краю;
- 0, 100% = left bottom — левый нижний угол;
- 50% 100% = center bottom — нижняя точка по центру;
- 100% 100% = right bottom — правый нижний угол.

В примере 1 показан эффект распашных дверей при наведении курсора на фигуру. Вращение происходит по оси Y, а чтобы оно было более выразительно добавим ещё и перспективу. Для левого элемента поворот происходит относительно центральной точки левого края, а для правого  — относительно центральной точки правого края. Для поворота нет разницы, где располагается точка трансформации по оси Y, а вот на вид перспективы это влияет, поэтому располагаем её по центру правого и левого края.

Пример 1. Точки трансформации

```
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Трансформация</title>
  <style>
   .doors {
    display: inline-block;
   }
   .door {
    width: 200px; height: 360px;
    display: inline-block;
    background: #e79e6d;
    border: 2px solid #333;
    transition: transform 2s;
   }
   .door-left {
    transform-origin: 0 50%; /* Точка трансформации слева */
   }
   .door-right {
    transform-origin: 100% 50%; /* Точка трансформации справа */
   }
   .doors:hover .door-left {
    /* Добавляем перспективу и поворот */ 
    transform: perspective(400px) rotateY(40deg); 
   }
   .doors:hover .door-right {
    transform: perspective(400px) rotateY(-40deg); 
   }
  </style>
 </head>
 <body>
  <div class="doors">
   <div class="door door-left"></div>
   <div class="door door-right"></div>
  </div>
 </body>
</html>
```

[Живой пример](http://jsfiddle.net/webref/rgbf9ne3/)

Результат данного примера показан на рис. 2.

![Вид элементов в момент трансформации](https://webref.ru/assets/images/html5-css3/transform-02.png)

Рис. 2. Вид элементов в момент трансформации

[трансформация](https://webref.ru/metki/transformaciya)





